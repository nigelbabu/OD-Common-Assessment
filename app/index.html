<!doctype html>
<html class="no-js" lang="">

<head>
  <meta charset="utf-8">
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Open Data Common Assessment</title>
  <link rel="shortcut icon" href="http://new.opendatahandbook.org/favicon.ico">
  <link rel="apple-touch-icon" href="http://new.opendatahandbook.org/apple-touch-icon.png">
  <!-- build:css styles/vendor.css -->
  <!-- bower:css -->
  <!-- endbower -->
  <!-- endbuild -->
  <!-- build:css styles/main.css -->
  <link rel="stylesheet" href="bower_components/normalize.css/normalize.css">
  <link rel="stylesheet" href="styles/main.css">
  <!-- endbuild -->
  <!-- build:js scripts/vendor/modernizr.js -->
  <script src="/bower_components/modernizr/modernizr.js"></script>
  <!-- endbuild -->
  <link href="http://fonts.googleapis.com/css?family=Lato:100,300,400,700,900,100italic,300italic,400italic,700italic,900italic" rel="stylesheet" type="text/css">
  <link href="http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/tabletop.js/1.3.5/tabletop.min.js"></script>
</head>

<body>
  <!--[if lt IE 10]>
      <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->
  <header>
    <div class="container-fluid">
      <h1>Open Data Common Assessment 2015</h1>
      <!-- <a href="/" title="return to Common Assessment country listing">Â« COMMON ASSESSMENT HOME</a> -->
    </div>
  </header>
  <div class="container-fluid">
    <div id="table"></div>
  </div>

  <script id="template-filter" type="text/ractive">
    <div class="filter">
      <div class="btn-group">
        <button class="label label-default dropdown-toggle dropdown" type="button" data-toggle="dropdown" aria-expanded="false"><span class="text"><span>+</span></button>
        <div id="filter-dropdown" class="dropdown-menu keep-open form-horizontal" role="menu">
          <ul>
          {{#each indicators.processed.scoring:item}}
            <li>
            <label>
              <input
                name="{{indicators.processed.visible}}"
                value="{{this}}"
                class="item"
                type="checkbox"
                on-change=""
                twoway="true">
              {{getIndicator(this, 'title')}}
            </label>
            </li>
          {{/each}}

          </ul>
         <button id="filter-apply" class="btn btn-default apply" type="button"></button>
        </div>
      </div>
    </div>
  </script>

  <script id="template-table" type="text/ractive">
    <table class='countries'>
      <thead>
        <tr>
          <th on-tap='sorting.sort:title' class='sortable theader {{ sorting.column === "title" ? "sorted" : "" }} {{ sorting.direction === -1 ? "dropup" : ""}}'>Country<span class='caret'></span></th>
          <th>
            {{#indicators.processed.visible:item}}
            <div class='indicator-pil label label-default theader truncate' style="background-color: {{getIndicator(this, 'colour')}}">
                <button on-tap='remove("indicators.processed.visible", this)' type="button" class="close" aria-label="Close"><span aria-hidden="true">&times;</span>
                </button>
               {{getIndicator(this, 'title')}}
            </div>
            {{/}}
            <div id="filter"><filter /></div>
          </th>
          <th on-tap='sorting.sort:sorting.score()'
            class='score sortable theader
            {{ sorting.column === "score" ? "sorted" : "" }}
            {{ sorting.direction === -1 ? "dropup" : ""}}'>
            <div>Score<span class='caret'></span></div></th>
        </tr>
      </thead>

      {{#each sorting.sort( places, sorting.column, sorting.direction )}}
      <tr class="data-{{id}}" data-country="{{title}}">
        <td class="country"><a href="#/country/{{id}}">{{title}}</a></td>
        <td class="results">
          <div class="result-wrapper">
            {{#values}}
              {{# isVisible(indicatorid) }}
                <a class="indicator" href="#" title="" style="{{#normalised}}width: {{normalised / indicators.processed.visible.length-1 }}%;{{/}} background-color: {{getIndicator(indicatorid, 'colour')}}" data-title="<h3>{{getIndicator(indicatorid, 'title')}}</h3><p>{{normalised}}</p><p>{{getIndicator(indicatorid, 'description')}}</p>"></a>
              {{/}}
            {{/values}}
          </div>
        </td>

        <td>
          {{scoring.calculateScore(values)}}
        </td>
      </tr>
      {{/each}}
    </table>
  </script>
  <!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
  <script>
  (function(b, o, i, l, e, r) {
    b.GoogleAnalyticsObject = l;
    b[l] || (b[l] =
      function() {
        (b[l].q = b[l].q || []).push(arguments)
      });
    b[l].l = +new Date;
    e = o.createElement(i);
    r = o.getElementsByTagName(i)[0];
    e.src = 'http://www.google-analytics.com/analytics.js';
    r.parentNode.insertBefore(e, r)
  }(window, document, 'script', 'ga'));
  ga('create', 'UA-XXXXX-X');
  ga('send', 'pageview');
  </script>
  <!-- comment:using cdn as open data handbook does -->
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- build:js scripts/vendor.js -->
  <!-- bower:js -->
  <!--     // <script src="/bower_components/tabletop/src/tabletop.js"></script>
    // <script src="/bower_components/ractive/ractive.js"></script> -->
  <script src="/bower_components/ractive/ractive.js"></script>
  <script src="/bower_components/ractive-events-tap/ractive-events-tap.js"></script>
  <script src="/bower_components/bootstrap-sass-official/assets/javascripts/bootstrap/dropdown.js"></script>
  <!-- endbower -->
  <!-- endbuild -->
  <!-- build:js scripts/plugins.js -->
  <!-- endbuild -->
  <!-- build:js scripts/main.js -->
  <script src="scripts/ractive.extend.js"></script>
  <script src="scripts/indicators.js"></script>
  <script src="scripts/utilities.js"></script>
  <script src="scripts/services.js"></script>
  <script src="scripts/main.js"></script>
  <!-- endbuild -->
  <script>
  $(document).ready(function() {
    app.start();
  });
  </script>
</body>

</html>